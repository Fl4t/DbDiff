<html lang="fr">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Comparaison de base de données</title>
        <link rel="stylesheet" media="screen" type="text/css" title="Design" href="style.css" />
    </head>
    <body>
    <form action="index.php" method="post" id="bdd-config">
        <table>
            <tr>
                <td><label for="bdd-host1">Serveur</label></td>
                <td><label for="bdd-user1">Utilisateur</label></td>
                <td><label for="bdd-password1">Mot de passe</label></td>
                <td><label for="bdd-nom1">Base de référence</label></td>
            </tr>
            <tr>
                <td><input type="text" name="bdd-host1" value="localhost" /></td>
                <td><input type="text" name="bdd-user1" value="root" /></td>
                <td><input type="text" name="bdd-password1" value="root" /></td>
                <td><input type="text" name="bdd-nom1" value="testsync" /></td>
            </tr>
            <tr>
                <td><label for="bdd-host2">Serveur</label></td>
                <td><label for="bdd-user2">Utilisateur</label></td>
                <td><label for="bdd-password1">Mot de passe</label></td>
                <td><label for="bdd-nom2">Base mise à jour</label></td>
            </tr>
            <tr>
                <td><input type="text" name="bdd-host2" value="localhost" /></td>
                <td><input type="text" name="bdd-user2" value="root" /></td>
                <td><input type="text" name="bdd-password2" value="root" /></td>
                <td><input type="text" name="bdd-nom2" value="testsync2" /></td>
            </tr>
            <tr>
                <td colspan="8" align="center">
                <input type="submit" value="Comparer" />
                <input type="reset" value="Effacer"</td>
            </tr>
        </table>
    </form>
    <p>
    {if isset($bddDiff)}
        <!-- HTML & SQL -->
        <table class="tableauBddDiff">
            {foreach from=$bddDiff->getTableauDeDiffs() item=diffDeTable}
                {if $diffDeTable->getAction() != diffBdd::ACTION_SAME}
                    <tr class="recapitulatif">
                    <td><strong>{$messHTMLTable[$diffDeTable->getAction()]}</strong>
                    la table <span class="nomTable">{$diffDeTable->getNom()}</span><br />
                    {foreach from=$diffDeTable->getTableauDeChamps() item=diffDeChamp}
                        {if $diffDeChamp->getAction() != diffBdd::ACTION_SAME}
                            <strong>{$messHTMLChamp[$diffDeChamp->getAction()]}</strong>
                            le champ <span class="nomChamp">{$diffDeChamp->getChamp()->getNom()} :</span><br />
                        {/if}
                    {/foreach}
                    </td>
                    <td>
                    <code>{$messSQLTable[$diffDeTable->getAction()]}{$diffDeTable->getNom()}<br />
                    {foreach from=$diffDeTable->getTableauDeChamps() item=diffDeChamp}
                        {if $diffDeChamp->getAction() != DiffBdd::ACTION_SAME}
                            {$messSQLChamp[$diffDeChamp->getAction()]}{$diffDeChamp->getChamp->getNom}
                            {$diffDeChamp->getChamp()->getColtype()} {$diffDeChamp->getChamp()->getInternom()}
                            {$diffDeChamp->getChamp()->getInterclass()} {$diffDeChamp->getChamp()->getNullable()}
                            {$diffDeChamp->getChamp()->getColdefaut()} {$diffDeChamp->getChamp()->getExtra()}
                            {$diffDeChamp->getChamp()->getCommentaire()}<br />
                        {/if}
                    {/foreach}
                    </code>
                    </td>
                    </tr>
                {/if}
            {/foreach}
        </table>
    {/if}
    </p>
    </body>
</html>
